<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop Goodreads on Amazon | Elise Nguyen</title>
    <meta name="description" content="UX case study: Designing a seamless shopping experience to help customers buy their next read on Amazon.">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://elisenguyen.com/work/shop-goodreads">
    <meta property="og:title" content="Shop Goodreads on Amazon | Elise Nguyen">
    <meta property="og:description" content="Designing a seamless shopping experience to help customers buy their next read.">
    <meta property="og:image" content="https://elisenguyen.com/assets/Project%201/thumbnail.png">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Shop Goodreads on Amazon | Elise Nguyen">
    <meta name="twitter:description" content="Designing a seamless shopping experience to help customers buy their next read.">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/assets/favicon.png">
    
    <link rel="stylesheet" href="../styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,500;1,400;1,500&display=swap" rel="stylesheet">
</head>
<body>
    <div class="progress-bar"></div>
    <div class="gradient-bg muted"></div>
    
    <nav class="nav">
        <a href="/" class="nav-logo">Elise Nguyen</a>
        <button class="nav-toggle" aria-label="Toggle menu" aria-expanded="false">
            <span class="hamburger"></span>
        </button>
        <div class="nav-links">
            <a href="/#work">Work</a>
            <a href="/about">About</a>
            <a href="/Elise_Nguyen_Resume.pdf" target="_blank">Resume</a>
        </div>
    </nav>
    <div class="mobile-menu">
        <a href="/#work">Work</a>
        <a href="/about">About</a>
        <a href="/Elise_Nguyen_Resume.pdf" target="_blank">Resume</a>
    </div>

    <main>
        <nav class="toc">
            <ul class="toc-list">
                <li><a href="#overview">Overview</a></li>
                <li><a href="#problem">Problem</a></li>
                <li><a href="#design-challenge">Design Challenge</a></li>
                <li><a href="#solution">Solution</a></li>
                <li><a href="#outcome">The Outcome</a></li>
                <li><a href="#design-process">Design Process</a></li>
                <li><a href="#next-steps">Next Steps</a></li>
                <li><a href="#learnings">Learnings</a></li>
            </ul>
        </nav>

        <article class="case-study">
            <header class="case-study-header">
                <h1>Shop Goodreads on Amazon</h1>
                <p class="case-study-meta">Helping customers buy their next read</p>
            </header>

            <div class="case-study-hero">
                <img loading="lazy" src="../assets/Project 1/thumbnail.png" alt="Shop Goodreads on Amazon">
            </div>

            <div class="case-study-content">
                <!-- Overview -->
                <section id="overview" class="case-study-section">
                    <h2>Overview</h2>
                    <p>
                        I designed a highly-requested feature that brings users' Goodreads Want to Read (WTR) shelf into Amazon Your Books, letting them browse, filter, and shop their WTR titles all in one place.
                    </p>
                    <div class="case-study-details">
                        <div class="detail">
                            <h3>Role</h3>
                            <p>Primary UX designer</p>
                        </div>
                        <div class="detail">
                            <h3>Timeline</h3>
                            <p>4 months; <a href="http://www.amazon.com/your-books" target="_blank" rel="noopener">Launched</a></p>
                        </div>
                        <div class="detail">
                            <h3>Team</h3>
                            <p>Kindle and Goodreads product and engineering teams</p>
                        </div>
                    </div>
                </section>

                <!-- Problem -->
                <section id="problem" class="case-study-section">
                    <span class="section-label">Problem</span>
                    <h2>A disconnected shopping experience.</h2>
                    <p>
                        Readers use Goodreads to track books they want to read, but this information isn't easily accessible when they shop on Amazon. As a result, users struggle to find, compare, and purchase books already saved to their Want to Read shelf. With 41.7M linked Goodreads and Amazon customers, we saw an opportunity to further integrate Goodreads into Amazon for a more seamless and personalized shopping experience.
                    </p>
                </section>

                <figure class="case-study-image">
                    <img loading="lazy" src="../assets/Project 1/image 1.png" alt="Disconnected shopping experience">
                </figure>

                <!-- Design Challenge -->
                <section id="design-challenge" class="case-study-section">
                    <span class="section-label">Design Challenge</span>
                    <h2>How might we reduce friction between tracking books on Goodreads and purchasing them on Amazon?</h2>
                </section>

                <!-- Solution -->
                <section id="solution" class="case-study-section">
                    <span class="section-label">Solution</span>
                    <h2>Introducing a new integration.</h2>
                    <p>
                        Members who have linked their Amazon and Goodreads accounts can now see books from their Want to Read shelf in Amazon Your books. A new modal within Your Books and email to Goodreads members introduces this integration, guiding them to the new experience with the tap of a button.
                    </p>
                </section>

                <div class="case-study-gallery small">
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 2.png" alt="New integration modal">
                    </figure>
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 3.png" alt="Integration email">
                    </figure>
                </div>

                <section class="case-study-section">
                    <h2>See all your lists in one place.</h2>
                    <p>
                        In the Lists tab, users can now view their Goodreads Want to Read shelf alongside Amazon wishlists for consolidated tracking and shopping. A new Goodreads filter and branded badge help users easily identify and navigate Goodreads lists, creating a unified experience whether books were saved from friend recommendations on Goodreads or added to shopping lists on Amazon.
                    </p>
                </section>

                <div class="case-study-gallery small">
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 4.png" alt="Lists tab desktop">
                    </figure>
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 5.png" alt="Lists tab mobile">
                    </figure>
                </div>

                <section class="case-study-section">
                    <h2>Shop all your books at once.</h2>
                    <p>
                        In the All Titles tab, users can browse their complete book collection from both Amazon and Goodreads in one unified view. Books from Goodreads are clearly labeled, and users can apply filters to discover deals or view personalized recommendations based on their entire collection. When ready to purchase, users simply tap the book and add to cart—eliminating the need to switch between apps.
                    </p>
                </section>

                <div class="case-study-gallery three-up">
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 6.png" alt="All Titles view">
                    </figure>
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 7.png" alt="Filters and recommendations">
                    </figure>
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 8.png" alt="Add to cart flow">
                    </figure>
                </div>

                <section class="case-study-section">
                    <h2>Your books. Your choice.</h2>
                    <p>
                        While linked members automatically see this integration, users have full control to learn more about the feature, hide Goodreads books from their view, or unlink accounts entirely.
                    </p>
                </section>

                <div class="case-study-gallery three-up">
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 9.png" alt="User controls">
                    </figure>
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 10.png" alt="Hide options">
                    </figure>
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 11.png" alt="Unlink accounts">
                    </figure>
                </div>

                <!-- Outcome -->
                <section id="outcome" class="case-study-section">
                    <span class="section-label">The Outcome</span>
                    <h2>A seamless, personalized shopping experience.</h2>
                    <p>
                        By integrating Goodreads shelves with Amazon lists, users can view, manage, and shop all their books in one place—eliminating the need to switch between apps or manually search for titles they've saved.
                    </p>
                </section>

                <figure class="case-study-image smaller">
                    <img loading="lazy" src="../assets/Project 1/YB+WTR.gif" alt="Final outcome">
                </figure>

                <!-- Impact -->
                <section class="case-study-section">
                    <h2>Impact.</h2>
                    <p>
                        Post-launch, we observed strong early engagement, with WTR shelved books having <strong>86% higher engagement</strong> compared to Wishlist books. We also garnered many positive customer anecdotes:
                    </p>
                    <blockquote>
                        "I'm really excited to see my Goodreads Want to Read shelf available in My Books! <strong>This has been something I've wanted for years.</strong>"
                    </blockquote>
                    <blockquote>
                        "I love that my GoodReads is here now so <strong>I don't have to go back and forth to remember what I put on my TBR list</strong> when I'm shopping for my next audiobook!"
                    </blockquote>
                    <blockquote>
                        "Thrilled to be able to shop my Goodreads Want to Read list on amazon easily and <strong>grab any books that come up on deals without having to type or save every book</strong> from Goodreads in to Amazon Wish Lists as well!"
                    </blockquote>
                    <blockquote>
                        "<strong>No longer having to track my want to buy book list in both Amazon and goodreads</strong> (and remember to update both separately)"
                    </blockquote>
                </section>

                <p class="press-label">Press:</p>
                <div class="press-row">
                    <a href="https://www.fastcompany.com/91368403/goodreads-logo" target="_blank" rel="noopener" class="press-item">
                        <img loading="lazy" src="../assets/Project 1/image 13.png" alt="Fast Company article">
                    </a>
                    <a href="https://www.tiktok.com/@kristinalikesbooks/video/7520671314017914142" target="_blank" rel="noopener" class="press-item">
                        <img loading="lazy" src="../assets/Project 1/tiktok-preview.png" alt="TikTok @kristinalikesbooks">
                    </a>
                </div>

                <!-- Design Process -->
                <section id="design-process" class="case-study-section">
                    <span class="section-label">Design Process</span>
                    <h2>The opportunity.</h2>
                    <p>
                        For years, users have been wanting to bridge the gap between tracking and shopping books. From wanting to add Goodreads Want to Read books to Amazon wishlists to seeing which ones are read or part of a subscription service, it's clear there's an opportunity to make shopping books you want to read easier.
                    </p>
                </section>

                <div class="case-study-gallery">
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 14.png" alt="User feedback 1">
                    </figure>
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 15.png" alt="User feedback 2">
                    </figure>
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 16.png" alt="User feedback 3">
                    </figure>
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 17.png" alt="User feedback 4">
                    </figure>
                </div>

                <section class="case-study-section">
                    <h2>The challenge.</h2>
                    <p>
                        Customers who link their Goodreads and Amazon accounts face friction when moving from trusted discovery on Goodreads to purchasing on Amazon, often requiring disruptive context-switching. Data showed this separation was intentional—only one-third of linked users maintain lists on both platforms, and just one-fifth of books overlap—reflecting a clear mental divide between Goodreads as an impartial discovery space and Amazon as a transactional one. This created a central design challenge: <strong>reducing friction through integration without undermining the trust and perceived neutrality that make Goodreads valuable</strong>, especially given user concerns that closer commercial ties could compromise recommendation integrity.
                    </p>
                </section>

                <figure class="case-study-image small">
                    <img loading="lazy" src="../assets/Project 1/image 18.png" alt="Design challenge data">
                </figure>

                <section class="case-study-section">
                    <h2>Our mission.</h2>
                    <div class="callout">
                        <p>Enrich and simplify the shopping experience, while maintaining trust.</p>
                    </div>
                </section>

                <section class="case-study-section">
                    <h2>Design do's.</h2>
                    <p>The key design goals that arose from this mission:</p>
                    <ul class="results-list">
                        <li><strong>Convenience:</strong> Customers need a way to organize and keep track of their total reading life and find value in a single source of truth.</li>
                        <li><strong>Trust:</strong> Customers desire the ability to control the visibility of their books to other people on both Goodreads and Amazon.</li>
                        <li><strong>Transparency:</strong> When introducing Goodreads to Amazon-only customers, it's necessary to provide additional context of where and why they are seeing this content, and that it comes from a community of readers.</li>
                    </ul>
                </section>

                <section class="case-study-section">
                    <h2>Design dont's.</h2>
                    <ul class="results-list">
                        <li><strong>Friction:</strong> Context-switching between Goodreads and Amazon can cause customers frustration if they are forwarded to another website and lose where they were before. We need to find a solution that seamlessly integrates the two.</li>
                        <li><strong>Bias:</strong> Avoid introducing sponsored content into Goodreads recommendations—need to maintain trustworthiness of Goodreads recommendations. Any sponsored content should have a basis in personalization.</li>
                    </ul>
                </section>

                <section class="case-study-section">
                    <h2>Examining the existing CX.</h2>
                    <p><strong>What is Amazon Your Books (YB)?</strong></p>
                    <p>Your Books is a personalized space across surfaces where customers can explore the books they love across all formats (including purchased, borrowed, and saved) and find ownership-aware recommendations for their next book.</p>
                </section>

                <div class="case-study-gallery">
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 19.png" alt="Amazon Your Books desktop">
                    </figure>
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 20.png" alt="Amazon Your Books mobile">
                    </figure>
                </div>

                <section class="case-study-section">
                    <p><strong>What is Goodreads Want to Read (WTR)?</strong></p>
                    <p>Your Want to Read shelf on Goodreads is a list of books that you have marked as "Want to Read." A book typically moves from WTR to "Currently Reading" shelf then to the "Read" shelf. A book can only exist on one shelf at a time.</p>
                </section>

                <figure class="case-study-image">
                    <img loading="lazy" src="../assets/Project 1/image 21.png" alt="Goodreads Want to Read shelf">
                </figure>

                <section class="case-study-section">
                    <h2>Design decision #1: Information architecture.</h2>
                    <p>Our first hurdle when designing this integration was where does Goodreads fit into the Your Books? I came up with a few options:</p>
                    <ol>
                        <li>Add Goodreads WTR as a filter and card</li>
                        <li>Add Goodreads as a secondary tab</li>
                        <li>Add Goodreads as a primary tab</li>
                    </ol>
                </section>

                <figure class="case-study-image">
                    <img loading="lazy" src="../assets/Project 1/image 22.png" alt="Information architecture options">
                </figure>

                <section class="case-study-section">
                    <p>
                        After extensive debate and design critiques with both Amazon and Goodreads design teams, <strong>we aligned on fully integrating Goodreads Want to Read into the existing Your Books experience rather than introducing a separate Goodreads tab</strong>. This approach builds on customers' current mental models, avoids fragmenting the experience, and reduces cognitive load by keeping interactions consistent across tabs. It also prevents duplicative views—since WTR filtering already exists across secondary tabs—while enabling WTR books to benefit from Your Books' advanced shopping filters and recommendations. Importantly, this structure scales to future shelf expansion without creating false expectations about full Goodreads parity. To address discoverability, we paired the integration with Goodreads badging on WTR titles, branded filters across tabs, and lightweight, dismissible education surfaces introducing the feature and promoting account linking.
                    </p>
                </section>

                <section class="case-study-section">
                    <h2>Design decision #2: Badging.</h2>
                    <p>Now that we've decided Goodreads books will appear alongside Amazon books, the next question was how do we differentiate an Amazon wishlist from a Goodreads shelf? I came up with several explorations:</p>
                </section>

                <figure class="case-study-image small">
                    <img loading="lazy" src="../assets/Project 1/image 23.png" alt="Badging explorations">
                </figure>

                <section class="case-study-section">
                    <p>Before deciding on this one, as it struck the best balance between the existing Amazon labels, while incorporating the colors of Goodreads branding.</p>
                </section>

                <figure class="case-study-image small">
                    <img loading="lazy" src="../assets/Project 1/goodreads-badging-final.png" alt="Final badging decision">
                </figure>

                <section class="case-study-section">
                    <p>
                        The next question became how do we differentiate whether a book was saved from Amazon or Goodreads? This proved a complicated topic, as WTR is read-only on Amazon (for now), and Amazon books have a heart that denotes whether it's been added to a wishlist or not (it's also tappable). I explored a multitude of options including adding the Goodreads logo below or on the book cover, different labels, stacked logos. Some key considerations arose:
                    </p>
                    <ul class="results-list">
                        <li>Goodreads badging makes it look like a Goodreads-sponsored book</li>
                        <li>Too much badging clutters the book cover or already crowded metadata below the cover</li>
                        <li>Prioritize wishlist control (heart) vs. source of book (Goodreads badge)</li>
                    </ul>
                </section>

                <div class="case-study-gallery">
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 24.png" alt="Book badging options 1">
                    </figure>
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 25.png" alt="Book badging options 2">
                    </figure>
                </div>

                <section class="case-study-section">
                    <h2>Conducting user research.</h2>
                    <p>After many internal debates about which badging options were the most clear, we decided we needed some validation from actual users. I ran an unmoderated usability test with 8 users to put our thinking to the test. We showed users 3 of our top badging options:</p>
                </section>

                <figure class="case-study-image smaller">
                    <img loading="lazy" src="../assets/Project 1/image 26.png" alt="Research badging options">
                </figure>

                <section class="case-study-section">
                    <p>
                        After evaluating three badging options for indicating Goodreads Want to Read status, <strong>user research showed a clear preference for the "On Goodreads shelf" label (Option 1) due to its clarity and recognizability</strong>, despite being less visually elegant and taking up more space. While logo-only approaches felt cleaner, they introduced discoverability risks—particularly for non-Goodreads users—and reduced confidence in understanding a book's status. Given the feature's newness and the goal of launching quickly, we chose the least-change, most explicit solution to prioritize comprehension over visual minimalism. As the integration matures and Goodreads shelves expand to read/write, a more compact, symbol-based approach may be revisited to improve concision and elegance.
                    </p>
                </section>

                <section class="case-study-section">
                    <h2>Maintaining trust with our users.</h2>
                    <p>To further maintain trust and transparency with our Goodreads users, I explored a few ways to inform users of what this integration entails and how to hide their GR WTR books or even unlink if they choose. Again, this was a balance between being transparent, and overloading users with too much information, thus we aligned on a short popover that appears upon tapping an info icon.</p>
                </section>

                <div class="case-study-gallery small">
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 27.png" alt="Trust explorations">
                    </figure>
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 28.png" alt="Trust iterations">
                    </figure>
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 29.png" alt="Trust options">
                    </figure>
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 30.png" alt="Final trust design">
                    </figure>
                </div>

                <section class="case-study-section">
                    <h2>The rest of the CX.</h2>
                    <p>With our key design decisions aligned on amongst product, UX, and leadership, I moved forward with finalizing the designs of the rest of our CX, including lots of flows, reviews, and iterations:</p>
                </section>

                <div class="photo-gallery">
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 31.png" alt="CX flow 1">
                    </figure>
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 32.png" alt="CX flow 2">
                    </figure>
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 33.png" alt="CX flow 3">
                    </figure>
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 34.png" alt="CX flow 4">
                    </figure>
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 35.png" alt="CX flow 5">
                    </figure>
                    <figure>
                        <img loading="lazy" src="../assets/Project 1/image 36.png" alt="CX flow 6">
                    </figure>
                </div>

                <section class="case-study-section">
                    <h2>Handoff to engineers.</h2>
                    <p>Once the design specs were detailed out, I handed off these designs to engineers to implement.</p>
                </section>

                <figure class="case-study-image">
                    <img loading="lazy" src="../assets/Project 1/image 37.png" alt="Engineering handoff">
                </figure>

                <section class="case-study-section">
                    <h2>Launch.</h2>
                    <p>On April 22, 2025, this feature officially launched for linked US customers, enabling 9.2M linked Goodreads and Amazon monthly active users (41.7M total) to easily view and shop their Goodreads Want to Read shelf directly within Your Books, strengthening the connection between discovering books on Goodreads and purchasing them on Amazon.</p>
                </section>

                <figure class="case-study-image">
                    <img loading="lazy" src="../assets/Project 1/image 38.png" alt="Launch announcement">
                </figure>

                <!-- Next Steps -->
                <section id="next-steps" class="case-study-section">
                    <span class="section-label">Next Steps</span>
                    <h2>What's next</h2>
                    <p>After launching this MLP experience, we plan to offer more Goodreads shelves (like Read, and Currently reading) to Your Books, offer full read/write integration between Amazon and Goodreads, and expand to international marketplaces. This will ensure the shopping and tracking experiences are truly seamless and integrated, and are able to be enjoyed by everyone.</p>
                </section>

                <!-- Learnings -->
                <section id="learnings" class="case-study-section">
                    <span class="section-label">Learnings</span>
                    <h2>What I learned</h2>
                    <p>
                        Working on this integration taught me how to <strong>design effectively across two distinct platforms and brands while navigating complex cross-team dynamics</strong>. Because this feature spanned Goodreads and Amazon, success depended on tight collaboration across PM, UX, engineering, UXR, and marketing—often amid differing goals, ongoing design changes, and constant reviews.
                    </p>
                    <p>
                        I learned how to <strong>drive alignment on HDTs and decisions, field and synthesize feedback from many stakeholders, and design within an existing information architecture</strong> that differed significantly from both Goodreads and Kindle. Just as importantly, I learned how to thoughtfully merge two brands by respecting what makes each valuable to users, prioritizing transparency and user choice around privacy, and making deliberate decisions around hierarchy, badging, and interaction patterns so the integration felt helpful rather than intrusive.
                    </p>
                </section>
            </div>

            <nav class="case-study-nav">
                <a href="/work/disney" class="nav-prev">
                    <div class="nav-text">
                        <span>Previous</span>
                        <strong>Disney</strong>
                    </div>
                    <div class="nav-thumb">
                        <img loading="lazy" src="../assets/Project 6/disney thumbnail.png" alt="Disney">
                    </div>
                </a>
                <a href="/work/color-writing" class="nav-next">
                    <div class="nav-text">
                        <span>Next</span>
                        <strong>Color Writing on Kindle</strong>
                    </div>
                    <div class="nav-thumb">
                        <img loading="lazy" src="../assets/Project 2/image 3.png" alt="Color Writing on Kindle">
                    </div>
                </a>
            </nav>
        </article>
    </main>

    <footer class="footer">
        <a href="/">© 2026 Elise Nguyen</a>
    </footer>

    <button class="back-to-top" aria-label="Back to top">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" />
        </svg>
    </button>

    <script>
        const navToggle = document.querySelector('.nav-toggle');
        const mobileMenu = document.querySelector('.mobile-menu');
        
        navToggle.addEventListener('click', () => {
            const isOpen = mobileMenu.classList.toggle('open');
            navToggle.classList.toggle('open');
            navToggle.setAttribute('aria-expanded', isOpen);
            document.body.style.overflow = isOpen ? 'hidden' : '';
        });

        mobileMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.remove('open');
                navToggle.classList.remove('open');
                navToggle.setAttribute('aria-expanded', 'false');
                document.body.style.overflow = '';
            });
        });

        const progressBar = document.querySelector('.progress-bar');
        const backToTop = document.querySelector('.back-to-top');

        window.addEventListener('scroll', () => {
            const scrollTop = window.scrollY;
            const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrollPercent = (scrollTop / docHeight) * 100;
            progressBar.style.width = scrollPercent + '%';

            // Hide nav when scrolling, show only at top
            const nav = document.querySelector('.nav');
            if (scrollTop > 100) {
                nav.classList.add('hidden');
            } else {
                nav.classList.remove('hidden');
            }

            if (scrollTop > 300) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        });

        backToTop.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Lightbox with carousel functionality
        const lightbox = document.createElement('div');
        lightbox.className = 'lightbox';
        lightbox.innerHTML = `
            <button class="lightbox-close" aria-label="Close lightbox">&times;</button>
            <button class="lightbox-nav lightbox-prev" aria-label="Previous image">&#8249;</button>
            <img loading="lazy" src="" alt="">
            <button class="lightbox-nav lightbox-next" aria-label="Next image">&#8250;</button>
            <div class="lightbox-counter"></div>
        `;
        document.body.appendChild(lightbox);

        const lightboxImg = lightbox.querySelector('img');
        const lightboxClose = lightbox.querySelector('.lightbox-close');
        const lightboxPrev = lightbox.querySelector('.lightbox-prev');
        const lightboxNext = lightbox.querySelector('.lightbox-next');

        const allImages = Array.from(document.querySelectorAll('.case-study-gallery img, .case-study-image img, .case-study-hero img, .photo-gallery img'));
        let currentIndex = 0;

        function showImage(index) {
            currentIndex = index;
            if (currentIndex < 0) currentIndex = allImages.length - 1;
            if (currentIndex >= allImages.length) currentIndex = 0;
            lightboxImg.src = allImages[currentIndex].src;
            lightboxImg.alt = allImages[currentIndex].alt;
        }

        allImages.forEach((img, index) => {
            img.addEventListener('click', () => {
                showImage(index);
                lightbox.classList.add('open');
                document.body.style.overflow = 'hidden';
            });
        });

        lightboxPrev.addEventListener('click', (e) => {
            e.stopPropagation();
            showImage(currentIndex - 1);
        });

        lightboxNext.addEventListener('click', (e) => {
            e.stopPropagation();
            showImage(currentIndex + 1);
        });

        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox || e.target === lightboxClose) {
                lightbox.classList.remove('open');
                document.body.style.overflow = '';
            }
        });

        document.addEventListener('keydown', (e) => {
            if (!lightbox.classList.contains('open')) return;
            if (e.key === 'Escape') {
                lightbox.classList.remove('open');
                document.body.style.overflow = '';
            } else if (e.key === 'ArrowLeft') {
                showImage(currentIndex - 1);
            } else if (e.key === 'ArrowRight') {
                showImage(currentIndex + 1);
            }
        });

        // Table of Contents active state
        const tocLinks = document.querySelectorAll('.toc-list a');
        const sections = document.querySelectorAll('.case-study-section[id]');

        function updateTocActive() {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 150;
                if (window.scrollY >= sectionTop) {
                    current = section.getAttribute('id');
                }
            });
            tocLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
        }

        window.addEventListener('scroll', updateTocActive);
        updateTocActive();
    </script>
</body>
</html>
